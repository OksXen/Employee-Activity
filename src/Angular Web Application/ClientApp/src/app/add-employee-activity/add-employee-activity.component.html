<div class="container">
  <h1>Add Employee Activity</h1>
  
  <form ngNativeValidate  (ngSubmit)="onSubmit()"  [formGroup]="employeeActivityForm" >
    <div class="form-group">
      <label for="fname">First Name</label>
      <input type="text" class="form-control" minlength="4" required id="fname" formControlName="firstName"  name="fname">
      <div *ngIf="f.firstName.invalid && (f.firstName.dirty || f.firstName.touched)"
           class="alert alert-danger">
        <div *ngIf="f.firstName.errors.required">
          Name is required.
        </div>
        <div *ngIf="f.firstName.errors.minlength">
          Name must be at least 4 characters long.
        </div>
      </div> 
    </div>

    <div class="form-group">
      <label for="lname">Last Name</label>
      <input type="text" required class="form-control"  minlength="4" id="lname" formControlName="lastName" name="lname">
      <div *ngIf="f.lastName.invalid && (f.lastName.dirty || f.lastName.touched)"
           class="alert alert-danger">
        <div *ngIf="f.lastName.errors.required">
          Last name is required.
        </div>
        <div *ngIf="f.lastName.errors.minlength">
          Last name must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="emailAddress">Email Address</label>
      <input type="text" class="form-control" required id="emailAddress" formControlName="emailAddress" name="emailAddress">
      <div *ngIf="f.emailAddress.invalid && (f.emailAddress.dirty || f.emailAddress.touched)"
           class="alert alert-danger">
        <div *ngIf="f.emailAddress.errors.required">
          Email address is required.
        </div>
        <div *ngIf="f.emailAddress.errors.email">
          Email must be a valid email address
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="activityName">Activity Name</label>
      <select class="custom-select" (change)="changeEventName($event)" formControlName="activityName">
        <option value="">Choose event name</option>
        <option *ngFor="let en of eventNames" [ngValue]="en">{{en}}</option>
      </select>        
      <div *ngIf="submitted && f.activityName.invalid" class="alert alert-danger">
       Please enter your event name
      </div>
    </div>

    <div class="form-group">
      <label for="comments">Comments</label>
      <textarea type="text" class="form-control" required  minlength="50" id="comments" formControlName="comments" name="comments"> </textarea>
      <div *ngIf="f.comments.invalid && (f.comments.dirty || f.comments.touched)"
           class="alert alert-danger">
        <div *ngIf="f.comments.errors.required">
          Comments is required.
        </div>
        <div *ngIf="f.comments.errors.minlength">
          Comments must be at least 50 characters long.
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-success">Submit</button>
  </form>

  <div>
    {{errorMessage}}
  </div>
</div>
